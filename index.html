<!doctype html>
<html lang="nl">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Elftalmaker</title>
    <!--<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">-->
    <link rel="stylesheet" href="contents/css/style.min.css">
</head>
<body>

<div class="container">

<input type='text' id="colorpicker"/>

    <div class="game_title">
        <span class="teamname">AMVJ</span>
    </div>


<div id="field">

    <div class="formation formation-442">
        <div class="ui-widget-content player player-1" data-player="1">
            <span class="jersey"></span>

            <span class="number">9</span>
            <span class="name">d van Hees</span>
            <span class="status"></span>
        </div>


        <div class="ui-widget-content player player-2" data-player="2">
            <span class="jersey"></span>

            <span class="number">9</span>
            <span class="name">Lex van Hees</span>
            <span class="status"></span>
        </div>

        <div class="ui-widget-content player player-3" data-player="3">
            <span class="jersey"></span>

            <span class="number">9</span>
            <span class="name">Lex van Hees</span>
            <span class="status"></span>
        </div>


        <div class="ui-widget-content player player-4" data-player="4">
            <span class="jersey"></span>

            <span class="number">9</span>
            <span class="name">Lex van Hees</span>
            <span class="status"></span>
        </div>


        <div class="ui-widget-content player player-5" data-player="5">
            <span class="jersey"></span>

            <span class="number">9</span>
            <span class="name">Lex van Hees</span>
            <span class="status"></span>
        </div>

        <div class="ui-widget-content player player-6"></div>

        <div class="ui-widget-content player player-7">
        </div>

        <div class="ui-widget-content player player-8">
        </div>

        <div class="ui-widget-content player player-9">
        </div>

        <div class="ui-widget-content player player-10">
        </div>

        <div class="ui-widget-content player player-11">
        </div>
    </div>
</div>
<div class="menu">
    <ul>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
    </ul>
</div>
</div>
<script src="contents/js/jquery-1.12.4.js"></script>
    <script src="contents/js/jquery-ui.js"></script>

<!--<script src='http://bgrins.github.io/spectrum/spectrum.js'></script>
<link rel='stylesheet' href='http://bgrins.github.io/spectrum/spectrum.css'/>-->

<script>
    $(function () {
        $(".player").draggable({containment: "parent"});
    });

    $(document).ready(function () {

        // Open dialog for editing player
        $(".player").click(function () {
            var id = $(this).data('player');
            var name = $('[data-player=' + id + ']').find('.name').text();
            var number = $('[data-player=' + id + ']').find('.number').text();

            // Clear fields
            $('#edit_player_name, #edit_player_number').val('');
            $(".edit_player").fadeIn();

            $('#edit_player_id').val(id);
            $('#edit_player_name').val(name);
            $('#edit_player_number').val(number);
        });

        // Close dialog and save player
        $("#edit_player").submit(function(e){

            var id = $('#edit_player_id').val();
            var name = $('#edit_player_name').val();
            var number = $('#edit_player_number').val();

            $('[data-player=' + id + ']').find('.name').html(name);
            $('[data-player=' + id + ']').find('.number').html(number);

            $(".edit_player").fadeOut();

            e.preventDefault();
        });

        // Close dialogs
        $(".close_btn").click(function(){
            $(".dialog").fadeOut();
        });




        $("#colorpicker").spectrum({
            color: "#f00",
            preferredFormat: "hex",
        });

// Change jersey
        $("#colorpicker").change(function () {
            var color = $(this).val();
            $('.player').css('background-color', '' + color + '');
        });


    });
</script>

<div class="dialog edit_player">
    <form action="" method="post" id="edit_player">
        <div class="container">
            <span class="close_btn"></span>
            <h3>Edit speler</h3>

            <input type="hidden" name="playerid" id="edit_player_id">

            <label for="edit_player_name">Naam</label>
            <input type="text" name="name" id="edit_player_name" autocomplete="off">

            <label for="edit_player_number">Rugnummer</label>
            <input type="number" name="number"  id="edit_player_number" autocomplete="off" max="99" min="1">

            <input type="submit" name="save" class="button">

        </div>
    </form>
</div>

</body>
</html>